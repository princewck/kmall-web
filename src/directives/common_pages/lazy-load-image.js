define(['app'], function (app) {
    /**
     * 图片懒加载,图片列表的父容器使用此指令，可以懒加载容器中 .lazy-image-instance 的图片
     * 图片加载临界点判断使用二分法查找
     */
    app.directive('lazyImageList', [function () {
        var image = document.createElement('img');
        /**
         * loading图片，base64放js里确保进页面就显示loading
         */
        var _loadingImage = 'data:image/gif;base64,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';
        image.src = _loadingImage;
        return {
            restrict: 'AE',
            scope: {
                lazyImageList: '='
            },
            replace: true,
            link: function (scope, elements, attrs) {
                var loadedIndex = 0;
                var imagesContaner = elements[0];

                var replaceImage = function (imageList, start, end) {
                    for (var i = start; i <= end; i++) {
                        (function (i) {
                            var url = scope.lazyImageList[i].product_image;
                            var _image = new Image();
                            _image.onload = function () {
                                imageList[i].src = url;
                            }
                            _image.src = url;
                        }(i));
                    };
                }

                /**
                 * 判断某张图片是否显示
                 * @param {DOM Element} image 
                 */
                var shouldImageShown = function (image) {
                    return image.getBoundingClientRect().top < (window.innerHeight - 150);
                }

                /**
                 * 二分法递归查找需要加载的图片
                 * @param {*} imageList 
                 * @param {*} start 
                 * @param {*} end 
                 */
                var calculateImages = function (imageList, start, end) {
                    var length = end - start;
                    if (end < 0) return;
                    if (shouldImageShown(imageList[end])) {
                        loadedIndex = end;
                        //销毁滚动监听
                        document.removeEventListener('scroll', scrollHandler);
                        return replaceImage(imageList, start, end);
                    }
                    var middleIndex = Math.ceil(length / 2) + start;
                    var showldShow = shouldImageShown(imageList[middleIndex]);
                    if (showldShow) {
                        if (start == middleIndex) return;
                        replaceImage(imageList, start, middleIndex);
                        arguments.callee(imageList, middleIndex, end);
                    } else {
                        if (end == middleIndex) return;
                        arguments.callee(imageList, start, middleIndex);
                    }
                }

                var imageList = elements[0].querySelectorAll('.lazy-image-instance');

                scope.$watch('lazyImageList', function () {
                    imageList = elements[0].querySelectorAll('.lazy-image-instance');
                    imageList.forEach(function (image) {
                        image.src = _loadingImage;
                    });
                    loadedIndex = 0;
                    calculateImages(imageList, loadedIndex, imageList.length - 1);
                }, true);

                var it = null;
                var _it = null;
                var _top = 0;
                document.addEventListener('scroll', scrollHandler);

                /**
                 * 滚动监听
                 */
                function scrollHandler() {
                    var __top = document.scrollingElement.scrollTop || document.body.scrollTop;
                    if (_top + 150 > __top) {
                        return;
                    }
                    _top = __top;
                    var imageList = elements[0].querySelectorAll('.lazy-image-instance');
                    var fn = arguments.callee;
                    if (it) clearTimeout(it);
                    it = setTimeout(function () {
                        _it = setTimeout(function () {
                            calculateImages(imageList, loadedIndex, imageList.length - 1);
                            clearTimeout(it);
                            fn();
                        });
                        calculateImages(imageList, loadedIndex, imageList.length - 1);
                        clearTimeout(_it);
                    }, 500);
                };
            }
        }
    }]);
});